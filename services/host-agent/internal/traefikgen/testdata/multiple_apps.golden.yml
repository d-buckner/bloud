# Generated by Bloud - DO NOT EDIT MANUALLY
# This file is managed by the Bloud host agent
# Traefik watches this file for changes

http:
  routers:
    actual-budget-backend:
      rule: "PathPrefix(`/embed/actual-budget`)"
      middlewares:
        - actual-budget-stripprefix
        - iframe-headers
        - embed-isolation
      service: actual-budget
      priority: 100
    adguard-home-backend:
      rule: "PathPrefix(`/embed/adguard-home`)"
      middlewares:
        - adguard-home-stripprefix
        - iframe-headers
        - embed-isolation
      service: adguard-home
      priority: 100
    miniflux-backend:
      rule: "PathPrefix(`/embed/miniflux`)"
      middlewares:
        - miniflux-stripprefix
        - iframe-headers
        - embed-isolation
      service: miniflux
      priority: 100

  middlewares:
    actual-budget-stripprefix:
      stripPrefix:
        prefixes:
          - "/embed/actual-budget"
    adguard-home-stripprefix:
      stripPrefix:
        prefixes:
          - "/embed/adguard-home"
    miniflux-stripprefix:
      stripPrefix:
        prefixes:
          - "/embed/miniflux"

  services:
    actual-budget:
      loadBalancer:
        servers:
          - url: "http://localhost:5006"
    adguard-home:
      loadBalancer:
        servers:
          - url: "http://localhost:3080"
    miniflux:
      loadBalancer:
        servers:
          - url: "http://localhost:8085"
